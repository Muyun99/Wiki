---
title: 彩色空间互转
date: 2021-03-09 21:16:58
permalink: /pages/adde71/
categories:
  - 技术文章
  - OpenCV-Python
tags:
  - 
---

## Opencv-Python 03 彩色空间互转

### 1 简介

颜色空间在数字图像领域是一个基础问题，有一些算法也尝试将图像映射到不同的颜色空间中进行处理。相比RGB，其他颜色空间（例如HSV、HSI）更具可分离性和可操作性，所以很多图像算法需要转换颜色空间，我们也有必要进行学习和掌握

### 2 算法理论

#### 2.1 RGB 与 灰度图互转

RGB是人眼识别的颜色定义出的空间，克表示大部分颜色。它是最通用的面向硬件的彩色模型。RGB颜色空间基于颜色的加法混色原理，从黑色不断叠加Red，Green，Blue的颜色，最终可以得到白色

对于彩色转灰度，有一个很著名的心理学公式：

$$Gray = R*0.299 + G*0.587 + B*0.114$$

直接计算因为是浮点型计算，所以复杂度较高，速度较低。所以我们考虑优化，可以将小数转为整数，除法变为移位，乘法也变为移位（整数计算比浮点型快，移位运算和加减法比乘除法快），但是这种方法也会带来一定的精度损失，我们可以根据实际情况选择需要保留的精度位数。

#### 2.2 RGB 与 HSV互转

HSV是一种将RGB色彩空间中的点在倒圆锥体中的表示方法。HSV即色相(Hue)、饱和度(Saturation)、明度(Value)，又称HSB(B即Brightness)。色相是色彩的基本属性，就是平常说的颜色的名称，如红色、黄色等。饱和度（S）是指色彩的纯度，越高色彩越纯，低则逐渐变灰，取0-100%的数值。明度（V），取0-max(计算机中HSV取值范围和存储的长度有关)。HSV颜色空间可以用一个圆锥空间模型来描述。圆锥的顶点处，V=0，H和S无定义，代表黑色。圆锥的顶面中心处V=max，S=0，H无定义，代表白色。

- H是色彩；

- S是深浅， S = 0时，只有灰度；

- V是明暗，表示色彩的明亮程度，但与光强无直接联系。

![](https://muyun-blog-pic.oss-cn-shanghai.aliyuncs.com/picgo/20200425221321.png#vwid=257&vhei=361)

### 3 代码实现